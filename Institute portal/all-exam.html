<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="images/favicon.ico">

    <title>All Exam | Institute Portal</title>

    <!-- Vendors Style-->
    <link rel="stylesheet" href="css/vendors_css.css">

    <!-- Style-->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/skin_color.css">

</head>

<body class="hold-transition light-skin sidebar-mini theme-primary fixed">

    <div class="wrapper">
        <div id="header-placeholder"></div>
        <aside class="main-sidebar">
            <!-- sidebar-->
            <section class="sidebar position-relative">
                <div class="multinav">
                    <div class="multinav-scroll" style="height: 100%;">
                        <!-- sidebar menu-->
                        <ul class="sidebar-menu" data-widget="tree">
                            <!-- <li class="header">Dashboard </li> -->
                            <li>
                                <a href="home.html">
                                    <i class="icon-Layout-4-blocks"><span class="path1"></span><span
                                            class="path2"></span></i>
                                    <span>Dashboard</span>
                                </a>
                            </li>
                            <li>
                                <a href="manage-course.html">
                                    <i class="mdi mdi-cards-outline"></i><span class="path1"></span><span
                                        class="path2"></span></i>
                                    <span>All Course</span>
                                </a>
                            </li>
                            <li>
                                <a href="all-exam.html">
                                    <i class="mdi mdi-library-books"></i>
                                    <span>All Exam</span>

                                </a>
                            </li>
                            <li>
                                <a href="result.html">
                                    <i class="mdi mdi-note-multiple-outline"></i>
                                    <span>Exam Result</span>
                                    <!-- <span class="pull-right-container">
                                        <i class="fa fa-angle-right pull-right"></i>
                                    </span> -->
                                    <!-- <ul class="treeview-menu">
                                        <li><a href="#"><i class="icon-Commit"><span class="path1"></span><span
                                                        class="path2"></span></i>Maths</a>
                                        </li>

                                        <li><a href="#"><i class="icon-Commit"><span class="path1"></span><span
                                                        class="path2"></span></i>Science</a>
                                        </li>
                                    </ul> -->
                                </a>
                            </li>
                            <li class="treeview">
                                <a href="all-users.html">
                                    <i class="mdi mdi-account-multiple"></i>
                                    <span>All Users</span>
                                    <span class="pull-right-container">
                                        <i class="fa fa-angle-right pull-right"></i>
                                    </span>
                                    <ul class="treeview-menu">
                                        <li><a href="manage-all-users.html"><i class="icon-User"><span
                                                        class="path1"></span><span class="path2"></span></i>All User
                                                List</a>
                                        </li>

                                        <li><a href="create-new-users.html"><i class="mdi mdi-account-plus"><span
                                                        class="path1"></span><span class="path2"></span></i>Register New
                                                Users</a>
                                        </li>
                                        <li><a href="block-user.html"><i class="mdi mdi-account-off"><span
                                                        class="path1"></span><span class="path2"></span></i>Block Users
                                                Users</a>
                                        </li>
                                    </ul>
                                </a>
                            </li>
                            <li>
                                <a href="reported-issue.html">
                                    <i class="mdi mdi-comment-question-outline"></i>
                                    <span>Reported Issue</span>

                                </a>
                            </li>
                            <li>
                                <a href="attempt-request.html">
                                    <i class="mdi mdi-account-alert"></i>
                                    <span>Attempt Request</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

            </section>
            <div class="sidebar-footer">
                <a href="#" class="link" data-toggle="tooltip" title="" data-original-title="Settings"
                    aria-describedby="tooltip92529">
                    <span class="mdi mdi-settings"></span>
                </a>
                <a href="#" class="link" data-toggle="tooltip" title="" data-original-title="Email">
                    <span class="mdi mdi-email-outline"></span>
                </a>
                <a href="javascript:void(0)" class="link" data-toggle="tooltip" title="" data-original-title="Logout">
                    <span class="mdi mdi-logout"></span>
                </a>

            </div>
        </aside>
        <!-- content here  -->
        <!-- notification bar  -->
        <div class="content-wrapper">
            <div class="container-full">
                <section class="content">
                    <nav>
                        <ol class="breadcrumb" style="background-color: #ffffff;">
                            <li class="breadcrumb-item"><a href="home.html"><i class="mdi mdi-home-outline"></i></a>
                            </li>
                            <li class="breadcrumb-item" aria-current="page">All Exams</li>
                        </ol>
                        <div class="d-flex align-items-center">
                            <h3 class="p-2">All Exams</h3>
                            <button type="button" class="btn btn-primary ml-auto" data-toggle="modal"
                                data-target="#createTestModal">
                                All Exams
                            </button>
                        </div>
                    </nav>
                    <!-- content here -->
                    <div class="row" id="testCardsContainer">
                    </div>
                    <!-- add more box here  -->
                </section>
            </div>

        </div>
    </div>
    <!-- Modal -->
    <!-- Modal -->
    <div class="modal fade" id="createTestModal" tabindex="-1" role="dialog" aria-labelledby="createTestModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="createTestModalLabel">Create Test</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="title">Title:</label>
                        <input type="text" class="form-control" id="title">
                    </div>
                    <div class="form-group">
                        <label for="negativeMarks">Negative Marks:</label>
                        <input type="number" class="form-control" id="negativeMarks">
                    </div>
                    <div class="form-group">
                        <label for="minimumMarks">Minimum Marks:</label>
                        <input type="number" class="form-control" id="minimumMarks">
                    </div>
                    <div class="form-group">
                        <label for="attemptAllow">Attempt Allow:</label>
                        <input type="number" class="form-control" id="attemptAllow">
                    </div>
                    <div class="form-group">
                        <label for="startDate">Start Date:</label>
                        <input type="date" class="form-control" id="startDate">
                    </div>
                    <div class="form-group">
                        <label for="endDate">End Date:</label>
                        <input type="date" class="form-control" id="endDate">
                    </div>
                    <div class="form-group">
                        <label for="totalmarks">Total Marks</label>
                        <input type="number" class="form-control" id="totalmarks">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="createTest()">Create</button>
                </div>
            </div>
        </div>
    </div>
    <footer class="main-footer">
        &copy; 2023 <a href="#">Zealcraft</a>. All Rights Reserved.
    </footer>

    <!-- script start here  -->
    <script src="js/vendors.min.js"></script>
    <script src="js/scriptloader.js"></script>
    <script src="js/pages/dashboard.js"></script>
    <script src="js/template.js"></script>

    <!-- script swal alert  -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- end  -->
    <script>
        // Add an event listener to the logout link
        document.getElementById('logout-link').addEventListener('click', function (event) {
            // Prevent the default action of the link
            event.preventDefault();

            // Display a SweetAlert confirmation dialog
            Swal.fire({
                title: 'Are you sure you want to logout?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, logout'
            }).then((result) => {
                // If the user confirms, redirect to the logout page or perform the logout action
                if (result.isConfirmed) {
                    // Redirect to the logout page or perform the logout action here
                    // For example, window.location.href = 'logout.php';
                    // Replace 'logout.php' with the actual URL of your logout page
                }
            });
        });
    </script>
    <!-- profile update  -->
    <script>
        // JavaScript function to toggle edit mode
        function toggleEditMode() {
            var inputs = document.querySelectorAll('.profile-info input, .profile-info select');
            for (var i = 0; i < inputs.length; i++) {
                inputs[i].readOnly = !inputs[i].readOnly;
            }

            // Show or hide the Update Profile button
            var updateButton = document.getElementById('update-profile-btn');
            updateButton.style.display = updateButton.style.display === 'none' ? 'inline-block' : 'none';

            // Enable or disable the gender dropdown
            var genderDropdown = document.getElementById('gender');
            genderDropdown.disabled = !genderDropdown.disabled;
        }

        // JavaScript function to handle profile update
        function updateProfile() {
            // You can add your logic here to handle profile update
            // For example, sending an AJAX request to update the profile data

            // Once the profile is updated, show a Swal alert
            Swal.fire({
                icon: 'success',
                title: 'Success!',
                text: 'Profile updated successfully.',
            });
        }
    </script>
    <!-- profile update end  -->
    <script>
        // Function to create test
        function createTest() {
            var title = document.getElementById("title").value;
            var negativeMarks = document.getElementById("negativeMarks").value;
            var minimumMarks = document.getElementById("minimumMarks").value;
            var attemptAllow = document.getElementById("attemptAllow").value;
            var startDate = document.getElementById("startDate").value;
            var endDate = document.getElementById("endDate").value;
            var totalmarks = document.getElementById("totalmarks").value;

            // Validate input
            if (title.trim() === "" || startDate === "" || endDate === "") {
                alert("Please fill in all required fields.");
                return;
            }

            // Create test using the entered data
            var test = {
                title: title,
                negativeMarks: negativeMarks,
                minimumMarks: minimumMarks,
                attemptAllow: attemptAllow,
                startDate: startDate,
                endDate: endDate,
                totalmarks: totalmarks,
            };

            // Get existing tests from localStorage or create an empty array
            var existingTests = JSON.parse(localStorage.getItem("tests")) || [];

            // Add the new test to the existing tests
            existingTests.push(test);

            // Save the updated tests to localStorage
            localStorage.setItem("tests", JSON.stringify(existingTests));

            // Display the newly created exam in the box
            displayTests();

            // Close modal
            $('#createTestModal').modal('hide');
        }

        // Function to display tests in the box
        function displayTests() {
            var testCardsContainer = document.getElementById("testCardsContainer");
            var existingTests = JSON.parse(localStorage.getItem("tests")) || [];

            testCardsContainer.innerHTML = ""; // Clear previous content

            existingTests.forEach(function (test) {
                var testCardHTML = `
            <div class="col-md-4 mb-3">
                <div class="box">
    <div class="box-header bg-primary d-flex align-items-center justify-content-between">
        <h4 class="box-title mb-0"><strong>${test.title}</strong></h4>
        <div class="dropdown">
            <button class="btn btn-rounded btn-outline dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="false"></button>
            <div class="dropdown-menu" style="">
                <a class="dropdown-item " href="manage-full-length-exam.html">Manage Exam</a>
                <a class="dropdown-item" href="manage-full-length-exam.html">Edit Exam</a>
                <a class="dropdown-item" onclick="deleteExam(${existingTests.indexOf(test)})" href="#">Delete</a>
            </div>
        </div>
    </div>
</div>
                    <div class="box-body bg-white">
                        <div class="table-responsive">
                            <table class="table simple mb-0">
                                <tbody>
                                    <tr>
                                        <td>Negative Marks</td>
                                        <td class="text-right font-weight-700">${test.negativeMarks}</td>
                                    </tr>
                                    <tr>
                                        <td>Minimum Marks</td>
                                        <td class="text-right font-weight-700">${test.minimumMarks}</td>
                                    </tr>
                                    <tr>
                                        <td>Attempt Allow</td>
                                        <td class="text-right font-weight-700">${test.attemptAllow}</td>
                                    </tr>
                                    <tr>
                                        <td>Start Date</td>
                                        <td class="text-right font-weight-700">${test.startDate}</td>
                                    </tr>
                                    <tr>
                                        <td>End Date</td>
                                        <td class="text-right font-weight-700">${test.endDate}</td>
                                    </tr>
                                    <tr>
                                        <td>Total Marks</td>
                                        <td class="text-right font-weight-700">${test.totalmarks}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                </div>
            </div>
        `;
                testCardsContainer.innerHTML += testCardHTML;
            });
        }

        // Function to delete exam with Swal alert
        function deleteExam(index) {
            Swal.fire({
                title: 'Are you sure?',
                text: "You won't be able to revert this!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#3085d6',
                confirmButtonText: 'Yes, delete it!'
            }).then((result) => {
                if (result.isConfirmed) {
                    // Get existing tests from localStorage
                    var existingTests = JSON.parse(localStorage.getItem("tests")) || [];

                    // Remove the test at the specified index
                    existingTests.splice(index, 1);

                    // Save the updated tests to localStorage
                    localStorage.setItem("tests", JSON.stringify(existingTests));

                    // After deleting, display tests again
                    displayTests();

                    Swal.fire(
                        'Deleted!',
                        'Your exam has been deleted.',
                        'success'
                    );
                }
            });
        }

        // Call displayTests() when the page loads to load existing tests from localStorage
        window.onload = function () {
            displayTests();
        };
    </script>
</body>

</html>